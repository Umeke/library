{% extends "account/base.html" %}
{% block head_title %}Pending Exchange Requests{% endblock %}

{% block content %}
  <main id="page-wrapper">
    <div class="container-fluid">
      <div class="page-header d-flex">
        <div class="heading page-header-item">
          <h6 class="h6">Pending Exchange Requests</h6>
        </div>
      </div>

      {% if requests %}
        <ul>
          {% for req in requests %}
            <li>
              Request from {{ req.requester.username }} for "{{ req.book.title }}"
              <p>{{ req.message }}</p>
              <a href="{% url 'books:accept_request' req.id %}" class="btn btn-success">Accept</a>
              <a href="{% url 'books:reject_request' req.id %}" class="btn btn-danger">Reject</a>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>No pending requests.</p>
      {% endif %}
    </div>
  </main>
{% endblock %}
